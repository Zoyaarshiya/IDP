var ajax_list_activeItem,ajaxBox_offsetX=0,ajaxBox_offsetY=0,ajax_list_externalFile="/pgs/",minimumLettersBeforeLookup=3,ajax_list_objects=new Array,ajax_list_cachedLists=new Array,ajax_list_activeInput=!1,ajax_list_optionDivFirstItem=!1,ajax_list_currentLetters=new Array,ajax_optionDiv=!1,ajax_optionDiv_iframe=!1,ajax_list_MSIE=!1;0<=navigator.userAgent.indexOf("MSIE")&&navigator.userAgent.indexOf("Opera")<0&&(ajax_list_MSIE=!0);var currentListIndex=0;function ajax_getTopPos(t){for(var a=t.offsetTop;null!=(t=t.offsetParent);)a+=t.offsetTop;return a}function ajax_list_cancelEvent(){return!1}function ajax_getLeftPos(t){for(var a=t.offsetLeft;null!=(t=t.offsetParent);)a+=t.offsetLeft;return a}function ajax_getWidth(t){return t.clientWidth}function ajax_option_setValue(t,a){var e=(a=a||this).innerHTML;e=(e=ajax_list_MSIE?a.innerText:a.textContent)||a.innerHTML,ajax_list_activeInput.value=e,document.getElementById(ajax_list_activeInput.name+"_hidden")&&$("#"+ajax_list_activeInput.name+"_hidden").val(a.id).trigger("change"),ajax_options_hide()}function ajax_options_hide(){ajax_optionDiv&&(ajax_optionDiv.style.display="none"),ajax_optionDiv_iframe&&(ajax_optionDiv_iframe.style.display="none")}function ajax_options_rollOverActiveItem(t,a){ajax_list_activeItem&&(ajax_list_activeItem.className="optionDiv"),t.className="optionDivSelected",ajax_list_activeItem=t,a&&(ajax_list_activeItem.offsetTop>ajax_optionDiv.offsetHeight&&(ajax_optionDiv.scrollTop=ajax_list_activeItem.offsetTop-ajax_optionDiv.offsetHeight+ajax_list_activeItem.offsetHeight+2),ajax_list_activeItem.offsetTop<ajax_optionDiv.scrollTop&&(ajax_optionDiv.scrollTop=0))}function ajax_option_list_buildList(t,a){if(ajax_optionDiv.innerHTML="",ajax_list_activeItem=!1,ajax_list_cachedLists[a][t.toLowerCase()].length<=1){if("getsubjectsByLetters"!=a)return void ajax_options_hide();var e=document.createElement("span");return e.id="choose",e.innerHTML="No results found for "+t,ajax_optionDiv.appendChild(e),void($$D("ajax_listOfOptions").style.display="block")}for(var i=ajax_list_optionDivFirstItem=!1,o=0;o<ajax_list_cachedLists[a][t.toLowerCase()].length;o++)if(0!=ajax_list_cachedLists[a][t.toLowerCase()][o].length){i=!0;var n=document.createElement("DIV"),_=ajax_list_cachedLists[a][t.toLowerCase()][o].split(/###/gi);if(1==ajax_list_cachedLists[a][t.toLowerCase()].length&&ajax_list_activeInput.value==_[0])return void ajax_options_hide();"title"==trimString(_[0])?(n.innerHTML+=_[_.length-1],n.id=_[0]):(n.innerHTML+=_[_.length-1],n.id=_[0],n.className="optionDiv",n.onmouseover=function(){ajax_options_rollOverActiveItem(this,!1)},n.onclick=ajax_option_setValue,ajax_list_optionDivFirstItem=ajax_list_optionDivFirstItem||n),ajax_optionDiv.appendChild(n)}i&&(ajax_optionDiv.style.display="block",ajax_optionDiv_iframe&&(ajax_optionDiv_iframe.style.display=""),ajax_options_rollOverActiveItem(ajax_list_optionDivFirstItem,!0))}function ajax_option_list_showContent(t,a,e,i,o){o==currentListIndex&&(a=a.value,t=ajax_list_objects[t].response.split("|"),e==a&&(ajax_list_cachedLists[i][a.toLowerCase()]=t,ajax_option_list_buildList(a,i)))}function ajax_option_resize(t){ajax_optionDiv.style.top=ajax_getTopPos(t)+t.offsetHeight+ajaxBox_offsetY+"px",ajax_optionDiv.style.left=ajax_getLeftPos(t)+ajaxBox_offsetX+"px",ajax_optionDiv.style.width=ajax_getWidth(t)+"px",ajax_optionDiv_iframe&&(ajax_optionDiv_iframe.style.left=ajax_optionDiv.style.left,ajax_optionDiv_iframe.style.top=ajax_optionDiv.style.top,ajax_optionDiv_iframe.style.width=ajax_optionDiv.style.width)}function ajax_showOptions(t,a,e,i,o,n){var _,s,l,x,r="ajax_listOfOptions";if(13!=e.keyCode&&9!=e.keyCode&&ajax_list_currentLetters[t.name]!=t.value){if(ajax_list_cachedLists[a]||(ajax_list_cachedLists[a]=new Array),ajax_list_cachedLists[a]=new Array,ajax_list_currentLetters[t.name]=t.value,!ajax_optionDiv){(ajax_optionDiv=document.createElement("DIV")).id=r,document.body.appendChild(ajax_optionDiv),ajax_list_MSIE&&((ajax_optionDiv_iframe=document.createElement("IFRAME")).border="0",ajax_optionDiv_iframe.style.width=ajax_optionDiv.clientWidth+"px",ajax_optionDiv_iframe.style.height=ajax_optionDiv.clientHeight+"px",ajax_optionDiv_iframe.id=r+"_iframe",document.body.appendChild(ajax_optionDiv_iframe));for(var j=document.getElementsByTagName("INPUT"),p=0;p<j.length;p++)j[p].onkeyup||(j[p].onfocus=ajax_options_hide);for(var c=document.getElementsByTagName("SELECT"),p=0;p<c.length;p++)c[p].onfocus=ajax_options_hide;var v=document.body.onkeydown;document.body.onkeydown="function"!=typeof v?ajax_option_keyNavigation:function(){v(),ajax_option_keyNavigation()};var f,d=document.body.onresize;document.body.onresize="function"!=typeof d?function(){ajax_option_resize(t)}:function(){d(),ajax_option_resize(t)},(null!=(f=$$D("p_ajax")?$$D("p_ajax").value:null)&&"home"==f||null!=f&&"qual_new"==f)&&(document.getElementById("ajax_listOfOptions").className+=" ajxpod"),null!=f&&"browse"==f?document.getElementById("ajax_listOfOptions").className+=" srajx":null!=f&&"provider_results"==f?document.getElementById("ajax_listOfOptions").className+=" prajx":null!=f&&"sch_browse"==f&&(document.getElementById("ajax_listOfOptions").className+=" schrajx")}t.value.length<minimumLettersBeforeLookup?ajax_options_hide():(ajax_optionDiv.style.top=ajax_getTopPos(t)+t.offsetHeight+ajaxBox_offsetY+"px",ajax_optionDiv.style.left=ajax_getLeftPos(t)+ajaxBox_offsetX+"px",ajax_optionDiv.style.width=ajax_getWidth(t)+"px",ajax_optionDiv_iframe&&(ajax_optionDiv_iframe.style.left=ajax_optionDiv.style.left,ajax_optionDiv_iframe.style.top=ajax_optionDiv.style.top,ajax_optionDiv_iframe.style.width=ajax_optionDiv.style.width),ajax_list_activeInput=t,ajax_optionDiv.onselectstart=ajax_list_cancelEvent,currentListIndex++,ajax_list_cachedLists[a][t.value.toLowerCase()]?ajax_option_list_buildList(t.value,a,currentListIndex):(f=$$D("p_ajax")?$$D("p_ajax").value:null,_=+currentListIndex,ajax_optionDiv.innerHTML="",s=ajax_list_objects.length,ajax_list_objects[s]=new sack,l=t.value,3<=trimString(l).length&&(x=null!=f&&"provider_results"==f?ajax_list_externalFile+i+"?"+o+"&p_text="+l+"&p_college_id="+n:ajax_list_externalFile+i+"?"+o+"&p_text="+l),ajax_list_objects[s].requestFile=x,ajax_list_objects[s].onCompletion=function(){ajax_option_list_showContent(s,t,l,a,_)},ajax_list_objects[s].runAJAX()))}}var i=0;function ajax_option_keyNavigation(t){if(document.all&&(t=event),ajax_optionDiv&&"none"!=ajax_optionDiv.style.display){if(38==t.keyCode){if(!ajax_list_activeItem)return;if(ajax_list_activeItem&&!ajax_list_activeItem.previousSibling)return;ajax_options_rollOverActiveItem(ajax_list_activeItem.previousSibling,!0),i++}if(40==t.keyCode){if(ajax_list_activeItem){if(!ajax_list_activeItem.nextSibling)return;ajax_options_rollOverActiveItem(ajax_list_activeItem.nextSibling,!0)}else ajax_options_rollOverActiveItem(ajax_list_optionDivFirstItem,!0);i++}if(0!=i&&(13==t.keyCode||9==t.keyCode))return ajax_list_activeItem&&"optionDivSelected"==ajax_list_activeItem.className&&ajax_option_setValue(!1,ajax_list_activeItem),13!=t.keyCode;27==t.keyCode&&ajax_options_hide()}}function autoHideList(t){document.all&&(t=event),t.target?source=t.target:t.srcElement&&(source=t.srcElement),3==source.nodeType&&(source=source.parentNode),"input"!=source.tagName.toLowerCase()&&"textarea"!=source.tagName.toLowerCase()&&ajax_options_hide()}document.documentElement.onclick=autoHideList;